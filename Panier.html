<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mon panier</title>
  <link rel="stylesheet" href="stylepanier.css">
</head>
<body>
    <header>
        <h1>Mon site de commerce électronique</h1>
        <nav>
          <a href="#">Accueil</a>
          <a href="Produits.html">Produits</a>
          <a href="Panier.html">Panier</a>
        </nav>
    </header>
    <section>
        <h2>Mon panier</h2>
        <table border="1">
            <thead>
                <tr>
                    <th>Produit</th>
                    <th>Quantité</th>
                    <th>Prix</th>
                    <th>Total</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Produit 1</td>
                    <td><input type="number" value="1" min="1" class="quantity-input"></td>
                    <td>100 €</td>
                    <td class="subtotal">100 €</td>
                    <td><button class="remove-btn">Supprimer</button></td>
                </tr>
                <tr>
                    <td>Produit 2</td>
                    <td><input type="number" value="2" min="1" class="quantity-input"></td>
                    <td>200 €</td>
                    <td class="subtotal">400 €</td>
                    <td><button class="remove-btn">Supprimer</button></td>
                </tr>
                <tr>
                    <td>Produit 3</td>
                    <td><input type="number" value="3" min="1" class="quantity-input"></td>
                    <td>300 €</td>
                    <td class="subtotal">900 €</td>
                    <td><button class="remove-btn">Supprimer</button></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="3">Total</th>
                    <th id="total-panier">1400 €</th>
                    <th></th>
                </tr>
            </tfoot>
        </table>
        <a href="#">Valider ma commande</a>
    </section>
    <section>
        <h2>Contact</h2>
        <p>Pour plus d'informations, veuillez nous contacter au 01 23 45 67 89 ou par e-mail à contact@monsite.fr</p>
    </section>

    <!-- Script JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Sélectionnez tous les champs de quantité
            var quantityInputs = document.querySelectorAll('.quantity-input');

            // Ajoutez un écouteur d'événements à chaque champ de quantité
            quantityInputs.forEach(function (input) {
                input.addEventListener('change', updateSubtotal);
            });

            // Fonction pour mettre à jour le sous-total
            function updateSubtotal() {
                var row = this.parentNode.parentNode; // Ligne actuelle
                var price = parseFloat(row.children[2].textContent.replace('€', '').trim());
                var quantity = this.value;
                var subtotal = price * quantity;
                row.children[3].textContent = subtotal + ' €'; // Mettez à jour le sous-total dans la ligne
                updateTotal(); // Mettez à jour le total global
            }

            // Fonction pour mettre à jour le total
            function updateTotal() {
                var subtotalElements = document.querySelectorAll('.subtotal');
                var total = 0;

                // Calculez le total en additionnant tous les sous-totaux
                subtotalElements.forEach(function (subtotalElement) {
                    total += parseFloat(subtotalElement.textContent.replace('€', '').trim());
                });

                // Mettez à jour le total dans le pied du tableau
                document.getElementById('total-panier').textContent = total + ' €';
            }

            // Ajoutez un écouteur d'événements pour les boutons de suppression
            var removeButtons = document.querySelectorAll('.remove-btn');
            removeButtons.forEach(function (button) {
                button.addEventListener('click', removeItem);
            });

            // Fonction pour supprimer un article
            function removeItem() {
                var row = this.parentNode.parentNode; // Ligne actuelle
                row.parentNode.removeChild(row); // Supprimez la ligne du DOM
                updateTotal(); // Mettez à jour le total global
            }
        });
    </script>

</body>
</html>
